@using DnTeamData.Models
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@ViewBag.Title</h2>

<h4>You can enter multiple values with a <b>"~"</b> separator: @Html.TextBox("MultipleSettingValue","",new {@style = "width:700px"}) <input type="button" class="t-button" value="Add" onclick="addMultipleSettingValue()"/> </h4>  

<script type="text/javascript">
    function addMultipleSettingValue() {
        $.post('@Url.Action("MultipleInsert", "Settings")', { value: $("#MultipleSettingValue").val(), type: '@ViewBag.Title' }, function () {
                $("#Grid").data("tGrid").ajaxRequest();
        });
    }
</script>

@(Html.Telerik().Grid<Value>()
        .Name("Grid")
            .DataKeys(keys => keys.Add(p => p.Name))
            .ToolBar(commands => commands.Insert().ButtonType(GridButtonType.ImageAndText))
        .DataBinding(dataBinding => dataBinding.Ajax()
                                        .Select("Select", "Settings")
                                        .Insert("Insert", "Settings")
                                        .Update("Save", "Settings")
                                        .Delete("Delete", "Settings"))
        .Columns(columns =>
        {
            columns.Bound(p => p.Name);
            columns.Command(commands =>
            {
                commands.Edit().ButtonType(GridButtonType.ImageAndText);
                commands.Delete().ButtonType(GridButtonType.ImageAndText);
            }).Width(200).Title("Edit");
        })
        .Editable(editing => editing.Mode(GridEditMode.InLine))
        .Sortable()        
)