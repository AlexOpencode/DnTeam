@using DnTeam.Models
@{
    ViewBag.Title = "Index";
}

<h2>Products</h2>
  @*<script type="text/javascript">
      function onEdit(e) {
          $(e.form).find('#Client').data('tDropDownList').select(function (dataItem) {
              return dataItem.Text == e.dataItem['Client'];
          });
      }
    </script>*@
@(Html.Telerik().Grid<EditableProductModel>()
        .Name("Grid")
            .DataKeys(keys => keys.Add(p => p.Id))
            .ToolBar(commands => commands.Insert().ButtonType(GridButtonType.ImageAndText))
        .DataBinding(dataBinding => dataBinding.Ajax()
                                        .Select("Select", "Product")
                                        .Insert("Insert", "Product")
                                        .Update("Save", "Product")
                                        .Delete("Delete", "Product"))
        .Columns(columns =>
        {
            columns.Bound(p => p.Name);
            columns.Bound(p => p.Client);
            columns.Command(commands =>
            {
                commands.Edit().ButtonType(GridButtonType.ImageAndText);
                commands.Delete().ButtonType(GridButtonType.ImageAndText);
            }).Width(200).Title("Edit");
        })
        .Editable(editing => editing.Mode(GridEditMode.InLine))
        .Sortable()        
)